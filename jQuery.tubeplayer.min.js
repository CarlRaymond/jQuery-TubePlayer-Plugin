(function(e){function k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var a=Math.random()*16|0;return(b=="x"?a:a&3|8).toString(16)})}var d={};d.ytplayers={};d.inits=[];d.iframeScriptInited=false;d.inited=false;e.tubeplayer={};e.tubeplayer.TubePlayer=d;e.tubeplayer.events={};e.tubeplayer.defaults={afterReady:function(){},stateChange:function(b){var a=this.onPlayer;return function(c){if(typeof c==="object")c=c.data;switch(c){case -1:return a.unstarted[b]();case 0:return a.ended[b]();
case 1:return a.playing[b]();case 2:return a.paused[b]();case 3:return a.buffering[b]();case 5:return a.cued[b]();default:return null}}},onError:function(b){var a=this.onErr;return function(c){if(typeof c==="object")c=c.data;switch(c){case 2:return a.invalidParameter[b]();case 100:return a.notFound[b]();case 101:case 150:return a.notEmbeddable[b]();default:return null}}},qualityChange:function(b){var a=this;return function(c){if(typeof c==="object")c=c.data;return a.onQualityChange[b](c)}},onQualityChange:{},
onPlayer:{unstarted:{},ended:{},playing:{},paused:{},buffering:{},cued:{}},onErr:{notFound:{},notEmbeddable:{},invalidParameter:{}}};var l={width:425,height:355,allowFullScreen:"true",initialVideo:"DkoeNLuMbcI",start:0,preferredQuality:"default",showControls:true,showRelated:false,annotations:true,autoPlay:false,autoHide:true,theme:"dark",color:"red",showinfo:false,modestbranding:true,protocol:"http",wmode:"transparent",swfobjectURL:"ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",loadSWFObject:true,
allowScriptAccess:"always",playerID:"tubeplayer-player-container",iframed:true,onPlay:function(){},onPause:function(){},onStop:function(){},onSeek:function(){},onMute:function(){},onUnMute:function(){},onPlayerUnstarted:function(){},onPlayerEnded:function(){},onPlayerPlaying:function(){},onPlayerPaused:function(){},onPlayerBuffering:function(){},onPlayerCued:function(){},onQualityChange:function(){},onErrorNotFound:function(){},onErrorNotEmbeddable:function(){},onErrorInvalidParameter:function(){}};
e.fn.tubeplayer=function(b,a){var c=e(this),f=typeof b;if(arguments.length===0||f==="object")return c.each(function(){d.init(e(this),b)});else if(f==="string")return c.triggerHandler(b+".tubeplayer",a||null)};var g=function(b){return function(a,c){var f=d.getPkg(a);if(f.ytplayer){a=b(a,c,f);if(typeof a==="undefined")a=f.$player;return a}return f.$player}};e.tubeplayer.getPlayers=function(){return d.ytplayers};d.init=function(b,a){if(b.hasClass("jquery-youtube-tubeplayer"))return b;a=e.extend({},l,
a);a.playerID+="-"+k();b.addClass("jquery-youtube-tubeplayer").data("opts.tubeplayer",a);for(var c in j)b.bind(c+".tubeplayer",b,j[c]);d.initDefaults(e.tubeplayer.defaults,a);e("<div></div>").attr("id",a.playerID).appendTo(b);d.initPlayer(b,a);return b};d.getPkg=function(b){b=b.data;var a=b.data("opts.tubeplayer");return{$player:b,opts:a,ytplayer:d.ytplayers[a.playerID]}};d.iframeReady=function(b){d.inits.push(function(){new YT.Player(b.playerID,{videoId:b.initialVideo,width:b.width,height:b.height,
playerVars:{autoplay:b.autoPlay?1:0,autohide:b.autoHide?1:0,controls:b.showControls?1:0,rel:b.showRelated?1:0,fs:b.allowFullScreen?1:0,wmode:b.wmode,showinfo:b.showinfo?1:0,modestbranding:b.modestbranding?1:0,iv_load_policy:b.annotations?1:3,start:b.start,theme:b.theme,color:b.color},events:{onReady:function(a){d.ytplayers[b.playerID]=a.target;a=e(a.target).parents(".jquery-youtube-tubeplayer");e.tubeplayer.defaults.afterReady(a)},onPlaybackQualityChange:e.tubeplayer.defaults.qualityChange(b.playerID),
onStateChange:e.tubeplayer.defaults.stateChange(b.playerID),onError:e.tubeplayer.defaults.onError(b.playerID)}})});if(d.inits.length>=1&&!d.inited)return function(){for(var a=0;a<d.inits.length;a++)d.inits[a]();d.inited=true};d.inited&&d.inits.pop()();return window.onYouTubePlayerAPIReady};d.supportsHTML5=function(){return!!document.createElement("video").canPlayType};d.initDefaults=function(b,a){var c=a.playerID,f=b.onPlayer;f.unstarted[c]=a.onPlayerUnstarted;f.ended[c]=a.onPlayerEnded;f.playing[c]=
a.onPlayerPlaying;f.paused[c]=a.onPlayerPaused;f.buffering[c]=a.onPlayerBuffering;f.cued[c]=a.onPlayerCued;b.onQualityChange[c]=a.onQualityChange;b=b.onErr;b.notFound[c]=a.onErrorNotFound;b.notEmbeddable[c]=a.onErrorNotEmbeddable;b.invalidParameter[c]=a.onErrorInvalidParameter};d.initPlayer=function(b,a){a.iframed&&d.supportsHTML5()?d.initIframePlayer(b,a):d.initFlashPlayer(b,a)};d.initIframePlayer=function(b,a){if(!d.iframeScriptInited){b=document.createElement("script");b.src=a.protocol+"://www.youtube.com/player_api";
var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);d.iframeScriptInited=true}window.onYouTubePlayerAPIReady=d.iframeReady(a)};d.initFlashPlayer=function(b,a){if(a.loadSWFObject){a.swfobjectURL=a.swfobjectURL.replace("http://","");a.swfobjectURL=a.swfobjectURL.replace("https://","");a.swfobjectURL=a.protocol+"://"+a.swfobjectURL;e.getScript(a.swfobjectURL,d.initFlashPlayerFN(a))}else d.initFlashPlayerFN(a)()};d.initFlashPlayerFN=function(b){return function(){var a=["//www.youtube.com/v/"];
a.push(b.initialVideo);a.push("?&enablejsapi=1&version=3");a.push("&playerapiid="+b.playerID);a.push("&rel= "+(b.showRelated?1:0));a.push("&autoplay="+(b.autoPlay?1:0));a.push("&autohide="+(b.autoHide?1:0));a.push("&controls="+(b.showControls?1:0));a.push("&showinfo="+(b.showinfo?1:0));a.push("&modestbranding="+(b.modestbranding?1:0));a.push("&iv_load_policy="+(b.annotations?1:3));a.push("&start="+b.start);a.push("&theme="+b.theme);a.push("&color="+b.color);a.push("&fs="+(b.allowFullScreen?1:0));
swfobject.embedSWF(a.join(""),b.playerID,b.width,b.height,"8",null,null,{allowScriptAccess:b.allowScriptAccess,wmode:b.wmode,allowFullScreen:b.allowFullScreen},{id:b.playerID});window.onYouTubePlayerReady=function(c){var f=document.getElementById(c),h=c.replace(/-/g,""),i=e.tubeplayer.defaults;e.tubeplayer.events[h]={stateChange:i.stateChange(c),error:i.onError(c),qualityChange:i.qualityChange(c)};f.addEventListener("onStateChange","$.tubeplayer.events."+h+".stateChange");f.addEventListener("onError",
"$.tubeplayer.events."+h+".error");f.addEventListener("onPlaybackQualityChange","$.tubeplayer.events."+h+".qualityChange");d.ytplayers[c]=f;c=e(f).parents(".jquery-youtube-tubeplayer");e.tubeplayer.defaults.afterReady(c)}}};d.getVideoIDFromURL=function(b){b=b||"";var a=b.indexOf("?");b=b.substring(a,b.length);a=b.indexOf("v=");if(a>-1){var c=b.indexOf("&",a);if(c===-1)c=b.length;return b.substring(a+2,c)}return""};var j={cue:g(function(b,a,c){c.ytplayer.cueVideoById(a,c.opts.preferredQuality)}),play:g(function(b,
a,c){if(typeof a==="object")c.ytplayer.loadVideoById(a.id,a.time,c.opts.preferredQuality);else a?c.ytplayer.loadVideoById(a,0,c.opts.preferredQuality):c.ytplayer.playVideo();c.opts.onPlay(a)}),pause:g(function(b,a,c){c.ytplayer.pauseVideo();c.opts.onPause(c)}),stop:g(function(b,a,c){c.ytplayer.stopVideo();c.opts.onStop(c)}),seek:g(function(b,a,c){c.ytplayer.seekTo(a,true);c.opts.onSeek(a)}),mute:g(function(b,a,c){c.$player.attr("data-prev-mute-volume",c.ytplayer.getVolume());c.ytplayer.mute();c.opts.onMute(c)}),
unmute:g(function(b,a,c){c.ytplayer.unMute();c.ytplayer.setVolume(c.$player.attr("data-prev-mute-volume")||50);c.opts.onUnMute()}),isMuted:g(function(b,a,c){return c.ytplayer.isMuted()}),volume:g(function(b,a,c){if(a){c.ytplayer.setVolume(a);c.$player.attr("data-prev-mute-volume",c.ytplayer.getVolume())}else return c.ytplayer.getVolume()||0}),quality:g(function(b,a,c){if(a)c.ytplayer.setPlaybackQuality(a);else return c.ytplayer.getPlaybackQuality()}),data:g(function(b,a,c){b={};c=c.ytplayer;b.bytesLoaded=
c.getVideoBytesLoaded();b.bytesTotal=c.getVideoBytesTotal();b.startBytes=c.getVideoStartBytes();b.state=c.getPlayerState();b.currentTime=c.getCurrentTime();b.duration=c.getDuration();b.videoURL=c.getVideoUrl();b.getVideoEmbedCode=c.getVideoEmbedCode();b.videoID=d.getVideoIDFromURL(b.videoURL);b.availableQualityLevels=c.getAvailableQualityLevels();return b}),videoId:g(function(b,a,c){return d.getVideoIDFromURL(c.ytplayer.getVideoUrl())}),size:g(function(b,a,c){if(a.width&&a.height){c.ytplayer.setSize(a.width,
a.height);e(c.ytplayer).css(a)}}),destroy:g(function(b,a,c){c.$player.removeClass("jquery-youtube-tubeplayer").data("opts.tubeplayer",null).unbind(".tubeplayer").html("");delete d.ytplayers[c.opts.playerID];b=e.tubeplayer.defaults;a=["unstarted","ended","playing","paused","buffering","cued"];for(var f in a)delete b.onPlayer[a[f]][c.opts.playerID];a=["notFound","notEmbeddable","invalidParameter"];for(f in a)delete b.onErr[a[f]][c.opts.playerID];delete b.onQualityChange[c.opts.playerID];delete e.tubeplayer.events[c.opts.playerID];
e(c.ytplayer).remove();return null}),player:g(function(b,a,c){return c.ytplayer})}})(jQuery);
